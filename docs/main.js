/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={865:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.download=e.loading=void 0,e.loading='\n  <svg style="width: 100%; height: 100%;" width="45" height="45" viewBox="0 0 45 45" stroke="#fff">\n    <g fill="none" fill-rule="evenodd" transform="translate(1 1)" stroke-width="2">\n      <circle cx="22" cy="22" r="6" stroke-opacity="0">\n        <animate attributeName="r"\n              begin="1.5s" dur="3s"\n              values="6;22"\n              calcMode="linear"\n              repeatCount="indefinite" />\n        <animate attributeName="stroke-opacity"\n              begin="1.5s" dur="3s"\n              values="1;0" calcMode="linear"\n              repeatCount="indefinite" />\n        <animate attributeName="stroke-width"\n              begin="1.5s" dur="3s"\n              values="2;0" calcMode="linear"\n              repeatCount="indefinite" />\n      </circle>\n      <circle cx="22" cy="22" r="6" stroke-opacity="0">\n        <animate attributeName="r"\n              begin="3s" dur="3s"\n              values="6;22"\n              calcMode="linear"\n              repeatCount="indefinite" />\n        <animate attributeName="stroke-opacity"\n              begin="3s" dur="3s"\n              values="1;0" calcMode="linear"\n              repeatCount="indefinite" />\n        <animate attributeName="stroke-width"\n              begin="3s" dur="3s"\n              values="2;0" calcMode="linear"\n              repeatCount="indefinite" />\n      </circle>\n      <circle cx="22" cy="22" r="8">\n        <animate attributeName="r"\n              begin="0s" dur="1.5s"\n              values="6;1;2;3;4;5;6"\n              calcMode="linear"\n              repeatCount="indefinite" />\n      </circle>\n    </g>\n  </svg>\n  ',e.download='\n  <svg height="19px" viewBox="0 0 14 19" width="14px" xmlns="http://www.w3.org/2000/svg">\n    <title/><desc/><defs/>\n    <g fill="none" fill-rule="evenodd" id="Page-1" stroke="none" stroke-width="1">\n      <g fill="#000000" id="Core" transform="translate(-383.000000, -213.000000)">\n        <g id="file-download" transform="translate(383.000000, 213.500000)">\n          <path d="M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,15 L0,17 L14,17 L14,15 L0,15 L0,15 Z" id="Shape"/>\n        </g>\n      </g>\n    </g>\n  </svg>\n  '},568:function(t,e,n){"use strict";var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,a){function r(t){try{s(o.next(t))}catch(t){a(t)}}function l(t){try{s(o.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,l)}s((o=o.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(554);const a=i(n(598)),r=n(865),l={dpi:300,attribution:"Â© OpenStreetMap Contributors",textFont:[]};e.default=class{constructor(t={}){this.container=null,this.options=Object.assign(Object.assign({},l),t)}onAdd(t){this.container=document.createElement("div"),this.container.className="mapboxgl-ctrl mapboxgl-ctrl-group maplibregl-ctrl maplibregl-ctrl-group";const e=document.createElement("button");return e.className="mapboxgl-ctrl-icon mapbox-gl-download maplibregl-ctrl-icon maplibre-gl-download",e.type="button",e.setAttribute("aria-label","Download"),e.innerHTML=r.download,this.container.appendChild(e),e.addEventListener("click",(()=>o(this,void 0,void 0,(function*(){const e=window.devicePixelRatio;Object.defineProperty(window,"devicePixelRatio",{get:()=>this.options.dpi/96});const n=this.loading(),o=document.createElement("div");document.body.appendChild(o);const i=t.getContainer().offsetWidth,r=t.getContainer().offsetHeight,l=t.unproject([i,r]).toArray();this.setStyles(o,{visibility:"hidden",position:"absolute",top:"0",bottom:"0",width:`${i}px`,height:`${r}px`});let s,d="Noto Sans Regular";t.style.glyphManager&&t.style.glyphManager.localIdeographFontFamily&&(d=t.style.glyphManager.localIdeographFontFamily),s=void 0!==window.geolonia?window.geolonia.Map:mapboxgl.Map;const c=JSON.parse(JSON.stringify(t.getStyle())),u=new s({container:o,center:t.getCenter(),zoom:t.getZoom(),bearing:t.getBearing(),pitch:t.getPitch(),style:c,localIdeographFontFamily:d,hash:!1,preserveDrawingBuffer:!0,interactive:!1,attributionControl:!1});u.once("load",(()=>{const i={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{text:this.options.attribution}}]};u.addSource("attribution-for-image",{type:"geojson",data:i});let r=[];if(this.options.textFont.length)r=this.options.textFont;else{const e=t.getStyle().layers;for(let n=0;n<e.length;n++)try{const o=t.getLayoutProperty(e[n].id,"text-font");if(o&&o.length){r=o;break}}catch(t){}}u.addLayer({id:"markers",type:"symbol",source:"attribution-for-image",paint:{"text-color":"#000000","text-halo-color":"rgba(255, 255, 255, 1)","text-halo-width":2},layout:{"text-field":"{text}","text-font":r,"text-size":18,"text-anchor":"bottom-right","text-max-width":28,"text-offset":[-.5,-.5],"text-allow-overlap":!0}}),setTimeout((()=>{u.getCanvas().toBlob((t=>{t&&a.default.saveAs(t,`${u.getCenter().toArray().join("-")}.png`),u.remove(),o.parentNode.removeChild(o),n.parentNode.removeChild(n),Object.defineProperty(window,"devicePixelRatio",{get:()=>e})}))}),3e3)}))})))),this.container}onRemove(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}loading(){const t=document.createElement("div");document.body.appendChild(t),this.setStyles(t,{position:"absolute",top:"0",bottom:"0",width:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:"9999"});const e=document.createElement("div");return e.innerHTML=r.loading,this.setStyles(e,{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",zIndex:"9999",margin:"auto",width:"120px",height:"120px"}),t.appendChild(e),t}setStyles(t,e){for(const n in e)t.style[n]=e[n]}}},554:function(){!function(t){"use strict";var e,n=t.Uint8Array,o=t.HTMLCanvasElement,i=o&&o.prototype,a=/\s*;\s*base64\s*(?:;|$)/i,r="toDataURL",l=function(t){for(var o,i,a=t.length,r=new n(a/4*3|0),l=0,s=0,d=[0,0],c=0,u=0;a--;)i=t.charCodeAt(l++),255!==(o=e[i-43])&&void 0!==o&&(d[1]=d[0],d[0]=i,u=u<<6|o,4==++c&&(r[s++]=u>>>16,61!==d[1]&&(r[s++]=u>>>8),61!==d[0]&&(r[s++]=u),c=0));return r};n&&(e=new n([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!o||i.toBlob&&i.toBlobHD||(i.toBlob||(i.toBlob=function(t,e){if(e||(e="image/png"),this.mozGetAsFile)t(this.mozGetAsFile("canvas",e));else if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(e))t(this.msToBlob());else{var o,i=Array.prototype.slice.call(arguments,1),s=this[r].apply(this,i),d=s.indexOf(","),c=s.substring(d+1),u=a.test(s.substring(0,d));Blob.fake?((o=new Blob).encoding=u?"base64":"URI",o.data=c,o.size=c.length):n&&(o=u?new Blob([l(c)],{type:e}):new Blob([decodeURIComponent(c)],{type:e})),t(o)}}),!i.toBlobHD&&i.toDataURLHD?i.toBlobHD=function(){r="toDataURLHD";var t=this.toBlob();return r="toDataURL",t}:i.toBlobHD=i.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},598:function(t,e,n){var o,i=i||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},o=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in o,a=/constructor/i.test(t.HTMLElement)||t.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},s=function(t){setTimeout((function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()}),4e4)},d=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},c=function(e,c,u){u||(e=d(e));var p,f=this,g="application/octet-stream"===e.type,h=function(){!function(t,e,n){for(var o=(e=[].concat(e)).length;o--;){var i=t["on"+e[o]];if("function"==typeof i)try{i.call(t,t)}catch(t){l(t)}}}(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,i)return p=n().createObjectURL(e),void setTimeout((function(){var t,e;o.href=p,o.download=c,t=o,e=new MouseEvent("click"),t.dispatchEvent(e),h(),s(p),f.readyState=f.DONE}));!function(){if((r||g&&a)&&t.FileReader){var o=new FileReader;return o.onloadend=function(){var e=r?o.result:o.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,f.readyState=f.DONE,h()},o.readAsDataURL(e),void(f.readyState=f.INIT)}p||(p=n().createObjectURL(e)),g?t.location.href=p:t.open(p,"_blank")||(t.location.href=p),f.readyState=f.DONE,h(),s(p)}()},u=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=d(t)),navigator.msSaveOrOpenBlob(t,e)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(t,e,n){return new c(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);t.exports?t.exports.saveAs=i:null!==n.amdD&&null!==n.amdO&&(void 0===(o=function(){return i}.call(e,n,e,t))||(t.exports=o))}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,n),a.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(568);const e=new(n.n(t)())({dpi:300});new window.geolonia.Map("#map").addControl(e)})()})();